box:
  id: python:3.5-slim 
  ports:
    - "5000"

build:
  steps:
    # first we want to run pip-install to install all the dependencies
    - pip-install
    # then we want to run a wercker step that watches your files and reloads
    # when changes are detected.
    - script:
        name: initialize git submodules
        code: |
            apt-get update 
            apt-get install git -y
            git submodule update --init --recursive
            ls -l pntl
            gcc -o ./pntl/senna -O3 -ffast-math *.c

    - script:
        name: echo python information
        code: |
          echo "python version $(python --version) running"
          echo "pip version $(pip --version) running"
          pip3 install -r requirements.txt
          python3 setup.py install
          pntl -SE ./pntl/senna -B true


